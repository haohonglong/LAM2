<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <script type="text/javascript" src="config.js"></script>
    <script type="text/javascript">
        var VIEWS;
        LAM.run(function(){
            'use strict';
            var System = this;
            VIEWS = System.ROOT+'/views';

            System
                    .import(['/common/common'],System.ROOT)
                    .import(['/Tab.class'],System.classPath);


        });



    </script>



</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <ol class="breadcrumb">
                <li><a data-var="tpl" id="title" href="{#VIEWS#}/index.html">首页</a></li>
            </ol>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2">
            <div class="list-group">
                <a href="javascript:void(0);" class="list-group-item">介绍<span class="caret ML5"></span></a>
                <div class="none submenu">
                    <a data-var="tpl" href="{#VIEWS#}/index.html?r=content/index" class="list-group-item">关于</a>
                </div>
                <a href="javascript:void(0);" class="list-group-item">入门<span class="caret ML5"></span></a>
                <div class="none submenu">
                    <a data-var="tpl" href="{#VIEWS#}/index.html?r=content/running" class="list-group-item">运行</a>
                </div>


                <a href="javascript:void(0);" class="list-group-item">结构<span class="caret ML5"></span></a>
                <div class="none submenu" id="structList"></div>
            </div>
        </div>
        <div id="content" class="col-md-9">
            <include file="{#VIEWS#}/{#System.VNAME#}.html"></include>
        </div>
    </div>

</div>
<script type="text/template" id="structList_tpl">
    <a data-var="tpl" href="{#url#}" class="list-group-item">{#title#}</a>
</script>

</body>


<script type="text/javascript">
   LAMJS.run([jQuery],function($){
        'use strict';
        var System=this;

       System.Html.getFile(System.ROOT+'/database/data.json',function(data){
           var menu = System.Template.foreach($('#structList_tpl').html(), data.menu);
           document.querySelector('#structList').innerHTML=System.findTpl(menu,['{{','}}']);
       },{
           'dataType':'json',
           'type':'POST'
       });

       System.VNAME = System.get('r') || 'content/index';
       System.Html.include($('include'));
       System.Html.analysisTpl();

       System.setMenuSelectedStatus=function(href){
           $('.list-group .submenu a[href*="'+href+'"]')
               .addClass('active').closest('.submenu').show().prev('.list-group-item').addClass('p-active');
       };


       $(function(){
           $('title').text(System.VNAME || 'index');
           System.setMenuSelectedStatus(System.VNAME);

           $('.list-group [data-url]').hover(function(){
               $(this).addClass('hover');
           },function(){
               $(this).removeClass('hover');
           });
           new System.Tab({
               'list':'.list-group .list-group-item',
               'event':{'click':''},
               'or':true,
               'on':'on',
               'fn':function(){
                   $(this).next().toggle();

               }
           }).run();



       })


    });
</script>
</html> 